<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/cadastro.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="js/bdDados.js">

    <link rel="shortcut icon" href="img/logo-icon.png" type="image/x-icon"> 

    <title>Athena Shop - Cadastro</title>
</head>

<body>
    <header>
        <div>

            <img src="img/logo-letreiro.png" alt="logo maior e texto Athena Shop" class="logo-2">
        
        </div>
    </header>

    <main>
        <% if(erros){
            var err_tnome = ""
            var err_temail =""
            var err_tsenha = ""
            var err_tconfsenha = ""
            erros.errors.forEach(function(erro){
                if (erro.param == "tnome"){err_tnome = "erro"}
                if (erro.param == "temail"){err_temail = "erro"}
                if (erro.param == "tsenha"){err_tsenha = "erro"}
                if (erro.param == "tconfsenha"){err_tconfsenha = "erro"}
            })
        }
        %>

        <%
        let msgErro = {"nome_usu":"", "senha_usu":"", "email_usu":"", "confSenha_usu":""}
        let avisoErro = {"nome_usu":"", "senha_usu":"", "email_usu":"", "confSenha_usu":""}
        if(listaErros){
            listaErros.errors.forEach(function(itemErro){
                if(itemErro.path == "nome_usu"){
                    avisoErro.nome_usu = "erro";
                    msgErro.nome_usu = itemErro.msg
                }
                if(itemErro.path == "email_usu"){
                    avisoErro.email_usu = "erro";
                    msgErro.email_usu = itemErro.msg
                }
                if(itemErro.path == "senha_usu"){
                    avisoErro.senha_usu = "erro";
                    msgErro.senha_usu = itemErro.msg
                }
                if(itemErro.path == "confSenha_usu"){
                    avisoErro.confSenha_usu = "erro";
                    msgErro.copnfSenha_usu = itemErro.msg
                }
            })
        }
        %>
        <form action="/cadastro" method="post">
            <div id="d-cadastro">
                <h2>Cadastrar</h2>


                <div class="input-name">
                    <label for="t-nome">Nomeㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ</label>
                    <input type="text" name="t-nome" id="t-nome" value="<%= valores.tnome %>" class="<%= err_tnome %>" required>
                    <span> <%= msgErro.nome_usu %></span>
                </div>


                <div class="input-email">
                    <label for="t-email">Emailㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ</label>
                    <input type="email" name="t-email" id="t-email" value="<%= valores.temail %>" class="<%= err_temail %>" required>
                    <span> <%= msgErro.email_usu %></span>
                </div>

                <div class="input-senha">
                    <label for="t-senha">Senhaㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ</label>
                    <input type="password" name="t-senha" id="t-senha" value="<%= valores.tsenha %>" class="<%= err_tsenha %>" required>
                    <span> <%= msgErro.senha %></span>
                </div>

                <div class="input-conf-senha">
                    <label for="t-confsenha">Confirme a Senhaㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ</label>
                    <input type="password" name="t-confsenha" id="t-confsenha" value="<%= valores.tconfsenha %>" class="<%= err_tconfsenha %>" required>
                    <span> <%= msgErro.confSenha_usu %></span>
                </div>

                <div id="checkbox-d">
                    <input type="checkbox" name="Lembrar" class="checkbox-dd">
                    <h4 id="h5-c">Lembrar conta</h4>
                </div>

                <div class="button">

                    <div class="button-logar">

                        <button onclick="window.location='/login' " type="button" id="button-login">Logar</button>

                    </div>

                    <div class="button-cadastro">

                         <button type="submit" id="button-home">Cadastrar</button>

                    </div>
                </div>    
        </form>
        </div>

        </div>
        </div>

    </main>
</body>

</html>